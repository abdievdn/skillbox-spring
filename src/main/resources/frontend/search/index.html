<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/common_head_fragment::common_head(~{::title},~{meta},~{link},~{script})">
<body class="Site">
<header th:replace="~{fragments/header_fragment}"></header>
<div class="Middle Middle_search">
    <div class="wrap">
        <main class="Middle-main">
            <h1 class="Middle-title">Поиск
            </h1>
            <div class="Section">
                <div class="search">
                    <form class="form form_search" action="#" method="post" data-searchlimit="20">
                        <input class="search-input" id="querypage" name="querypage" type="text"
                               placeholder="Search over 30 million book titles"
                               th:value="${searchWord}"/>
                        <div style="width: 100px">
                        <select th:field="*{searchType}" style="margin: 0; padding: 0; border: 0">
                            <option th:value="google">google</option>
                            <option th:value="default">bookshop</option>
                        </select>
                        </div>
                        <button class="search-button" type="submit" name="searchpage" id="searchpage">Поиск
                        </button>
                    </form>
                </div>
            </div>
            <div class="Section Section_close">
                <header class="Section-header">
                    <h2 class="Section-title Middle-searchHeader"
                        th:text="${'Найдено книг: ' + booksCount}">
                    </h2>
                </header>
                <div th:replace="~{fragments/books_pool_fragment :: cards(${searchResults})}"></div>
                <div class="Cards-footer Cards-footer_center">
                    <a class="btn btn_primary" href="#"
                       data-refreshshow="search"
                       data-refreshoffset="1"
                       data-refreshlimit="20"
                       th:attr="data-refreshquery=${searchWord}, data-searchtype=${searchType}"
                       data-refreshquery="Техника">Показать еще</a>
                </div>
            </div>
        </main>
    </div>
</div>
<footer th:insert="~{fragments/footer_fragment :: footerFragment}"></footer>
<script src="/assets/plg/jQuery/jquery-3.5.1.min.js"></script>
</body>
</html>